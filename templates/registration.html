{% extends 'base.html' %}
{% load static %}


{% block title %}Register{% endblock title %}
{% block style %}
<link rel="stylesheet" href="{% static 'CSS/register.css' %}">
{% endblock style %}


{% block content %}


{% comment %} error handeling {% endcomment %}
{% if registration_form.non_field_errors %}
{% for error in registration_form.non_field_errors %}
    <div class="bg-danger border border-danger px-4 py-3">
        <p class="font-bold">Error!</p>
        <p>{{ error|escape }}</p>
    </div>
{% endfor %}
{% endif %}

{% if address_form.non_field_errors %}
{% for error in address_form.non_field_errors %}
    <div class="bg-danger border border-danger px-4 py-3">
        <p class="font-bold">Error!</p>
        <p >{{ error|escape }}</p>
    </div>
{% endfor %}
{% endif %}




<div id="wrap" class="container">
    <div class="registration-form">
        <h2 class="text-center mb-4">User Registration</h2>
        <form method="POST">
            {% csrf_token %}
            {% for hidden_field in registration_form.hidden_fields %}
             {{ hidden_field.errors }} {{ hidden_field }} 
            {% endfor %}
            <div class="form-group">
              <label for="{{registration_form.first_name.id_for_label}}">{{registration_form.first_name.label}}</label>
              {{registration_form.first_name}}
              {% if registration_form.first_name.errors %} 
                      {% for error in registration_form.first_name.errors %}
                      <p class="text-danger fs-6  pb-2">{{ error }}</p>
                      {% endfor %} 
              {% endif %}
            </div>
            <div class="form-group">
              <label for="{{registration_form.last_name.id_for_label}}">{{registration_form.last_name.label}}</label>
              {{registration_form.last_name}}
              {% if registration_form.last_name.errors %} 
                      {% for error in registration_form.last_name.errors %}
                      <p class="text-danger fs-6  pb-2">{{ error }}</p>
                      {% endfor %} 
              {% endif %}
            </div>

            <div class="form-group">
            <label for="{{registration_form.email.id_for_label}}">{{registration_form.email.label}}</label>
            {{registration_form.email}}
            {% if registration_form.email.errors %} 
                    {% for error in registration_form.email.errors %}
                    <p class="text-danger fs-6  pb-2">{{ error }}</p>
                    {% endfor %} 
            {% endif %}
          </div>
          <div class="form-group">
            {% comment %} <h1>{{registration_form.email.id_for_label}}</h1> {% endcomment %}
            <label for="{{registration_form.account_type.id_for_label}}">{{registration_form.account_type.label}}</label>
            {{registration_form.account_type}}
            {% if registration_form.account_type.errors %} 
                    {% for error in registration_form.account_type.errors %}
                    <p class="text-danger fs-6  pb-2">{{ error }}</p>
                    {% endfor %} 
            {% endif %}
          </div>
          <div class="form-group">
            <label for="{{registration_form.gender.id_for_label}}">{{registration_form.gender.label}}</label>
            {{registration_form.gender}}
            {% if registration_form.gender.errors %} 
                    {% for error in registration_form.gender.errors %}
                    <p class="text-danger fs-6  pb-2">{{ error }}</p>
                    {% endfor %} 
            {% endif %}
          </div>
          <div class="form-group">
            <label for="{{registration_form.birth_date.id_for_label}}">{{registration_form.birth_date.label}}</label>
            {{registration_form.birth_date}}
            {% if registration_form.birth_date.errors %} 
                    {% for error in registration_form.birth_date.errors %}
                    <p class="text-danger fs-6  pb-2">{{ error }}</p>
                    {% endfor %} 
            {% endif %}
          </div>
          <div class="form-group">
            <label for="{{registration_form.password1.id_for_label}}">{{registration_form.password1.label}}</label>
            {{registration_form.password1}}
            {% if registration_form.password1.errors %} 
                    {% for error in registration_form.password1.errors %}
                    <p class="text-danger fs-6  pb-2">{{ error }}</p>
                    {% endfor %} 
            {% endif %}
          </div>
          <div class="form-group">
            <label for="{{registration_form.password2.id_for_label}}">{{registration_form.password2.label}}</label>
            {{registration_form.password2}}
            {% if registration_form.password2.errors %} 
                    {% for error in registration_form.password2.errors %}
                    <p class="text-danger fs-6  pb-2">{{ error }}</p>
                    {% endfor %} 
            {% endif %}
          </div>

          {% comment %} address form section {% endcomment %}

          <div class="form-group">
            <label for="{{address_form.street.id_for_label}}">{{address_form.street.label}}</label>
            {{address_form.street}}
            {% if address_form.street.errors %} 
                    {% for error in address_form.street.errors %}
                    <p class="text-danger fs-6  pb-2">{{ error }}</p>
                    {% endfor %} 
            {% endif %}
          </div> 

          <div class="form-group">
            <label for="{{address_form.city.id_for_label}}">{{address_form.city.label}}</label>
            {{address_form.city}}
            {% if address_form.city.errors %} 
                    {% for error in address_form.city.errors %}
                    <p class="text-danger fs-6  pb-2">{{ error }}</p>
                    {% endfor %} 
            {% endif %}
          </div>
          <div class="form-group">
            <label for="{{address_form.postal_code.id_for_label}}">{{address_form.postal_code.label}}</label>
            {{address_form.postal_code}}
            {% if address_form.postal_code.errors %} 
                    {% for error in address_form.postal_code.errors %}
                    <p class="text-danger fs-6  pb-2">{{ error }}</p>
                    {% endfor %} 
            {% endif %}
          </div>
          <div class="form-group">
            <label for="{{address_form.country.id_for_label}}">{{address_form.country.label}}</label>
            {{address_form.country}}
            {% if address_form.country.errors %} 
                    {% for error in address_form.country.errors %}
                    <p class="text-danger fs-6  pb-2">{{ error }}</p>
                    {% endfor %} 
            {% endif %}
          </div>
          <br>
          <button type="submit" class="btn btn-primary btn-block">Register</button>
          
        </form>

      </div>
  </div>



{% endblock content %}
   